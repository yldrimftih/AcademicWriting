\documentclass[conference]{IEEEtran}
\IEEEoverridecommandlockouts
% The preceding line is only needed to identify funding in the first footnote. If that is unneeded, please comment it out.
%Template version as of 6/27/2024
\usepackage{siunitx}
\usepackage{cite}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{algorithmic}
\usepackage{graphicx}
\usepackage{textcomp}
\usepackage{xcolor}
\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08em
    T\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}
\begin{document}

\title{Comparison of Control Strategies for Four Switch Buck Boost Converter\\
}

\author{\IEEEauthorblockN{Fatih Yildirim}
\IEEEauthorblockA{\textit{Department of Electrical and Electronics Engineering} \\
\textit{Koç University}\\
Istanbul, Turkey \\
fyildirim24@ku.edu.tr}
}

\maketitle

\begin{abstract}
In modern electronic systems, DC-to-DC converters are crucial in providing efficient, stable power conversion across a broad operating envelope of both input and output conditions.
In many applications, such as aerospace, automotive, and renewable energy systems, converters that can function satisfactorily even with very wide variations in either supply or load conditions are required.
These somewhat conflicting requirements cannot be met simultaneously by traditional converter topologies, which has driven the usage of a variety of converter types or complex hybrid architectures.
Another flexible and compact alternative is the FSBB converter, whose operation in both buck and boost modes is confined to a single stage.
This paper compares two control methodologies applied to the FSBB converter: single-mode control and multimode control.
It investigates their steady-state and transient behaviors under several line and load conditions.
This controller employs current-mode control using a PI compensator to regulate the output voltage. The parameters of the controller are tuned using frequency-domain stability analysis.
The simulation results confirm that both control strategies have acceptable regulation performance, with voltage deviation within ±2\% under dynamic conditions.
However, multimode control provides higher efficiency owing to lower switching losses during distinct buck or boost states of operation.
These results pinpoint certain simplicity-efficiency trade-offs in FSBB converter control design and give insights into the development of high-efficiency power management systems requiring wide-range operation.
\end{abstract}

\begin{IEEEkeywords}
Digital Control, Current Mode Control, Four Switch Buck Boost Converter, Power Electronics
\end{IEEEkeywords}

\section{Introduction}

The FSBB converter has a wide input voltage range and provides a flexible and regulated output. 
The four-switch buck-boost topology cascades the buck and boost converters into one stage using four switches. 
Figure \ref{fig1-four-switch-buck-boost-converter} shows the layout of an FSBB converter. 
This results in large design flexibility where the output voltage can be set higher or lower than the input. 
In addition, the FSBB can operate as a bidirectional converter when current-mode control is employed, making it highly suitable for applications such as battery charging and discharging \cite{ref_1, ref_2, ref_3, ref_4}.

\begin{figure}[htbp]
    \centerline{\includegraphics{figures/fig1-four-switch-buck-boost-converter.png}}
    \caption{Four Switch Buck Boost Converter}
    \label{fig1-four-switch-buck-boost-converter}
\end{figure}

Despite these advantages, the main problem of the FSBB converter is its control complexity. Since the converter integrates two topologies, buck and boost, it needs to manage two different duty cycles. 
Ensuring smooth transitions between the different operating regions is the major problem. If not designed with a strong control strategy, it will lead to poor performance, which may not meet the required specifications.

This paper explores two active control methodologies that have been developed to handle this complexity: single-mode control \cite{ref_2} and multimode control \cite{ref_5, ref_6, ref_7, ref_8}. 
Part 2 will outline in detail these control strategies. We shall present a comparison of their performance based on simulation results in Part 3, with a view to assess their performance.

\section{Operation Principle of the FSBB}
\subsection{Single Mode Control Strategy}
The single-mode control strategy keeps the converter running in the buck-boost mode continuously, irrespective of the relation between the input and output voltage. 
This approach is described by the application of a single duty cycle value to generate the control signals for all four switches.

The control signals are applied complementarily. For instance, the so-called buck switches S1 and S2 and the boost switches S3 and S4 are driven with just this one duty cycle D. 
As in the switching topology of Figure \ref{fig2}, all four switches are switching and transitioning during any given switching cycle.

The major advantage of this approach is that only one control variable must be computed. However, the big disadvantage is that this approach results in low efficiency. 
Since all four switches are always on, the converter always suffers from switching losses and conduction losses of all four devices. 
This is very inefficient since the converter may operate under the condition where only buck operation \( V_{\text{in}} > V_{\text{out}} \) or only boost operation \( V_{\text{in}} < V_{\text{out}} \) is required. 
For such a case, an ideal controller would use only two switches, but this strategy enforces all four switches to be ON, which results in unnecessary power loss and heat generation.

\begin{figure}[htbp]
    \centerline{\includegraphics{figures/fig2.png}}
    \caption{Single Mode Control}
    \label{fig2}
\end{figure}

\subsection{Multimode Control Strategy}
In multimode control, there are four operation states. 
\begin{itemize}
    \item Buck State
    \item Boost State
    \item Constant Buck State
    \item Constant Boost State
\end{itemize}

\subsubsection{Buck State}
Buck state happens when the input voltage of converter is greater than the output voltage. In this state, duty of buck switches is controlled. 
Boost switch on the line (Q4) is always on and the other (Q3) is always off position as seen in Figure \ref{fig3}. 
At buck switches, there are switching loss and conduction loss. 
At boost switch on the line, there is only conduction loss. Because of that, efficiency is high compare to single mode control.  

\begin{figure}[htbp]
    \centerline{\includegraphics{figures/fig3.png}}
    \caption{Buck State}
    \label{fig3}
\end{figure}

\subsubsection{Boost State}
When the input voltage is lower than the output voltage, boost state happens. As seen in the Figure \ref{fig4}, duty of boost switches is controlled and Q1 is always on. 
Like in buck state, efficiency is high.

\begin{figure}[htbp]
    \centerline{\includegraphics{figures/fig4.png}}
    \caption{Boost State}
    \label{fig4}
\end{figure}

\subsubsection{Constant Buck State}
When the input voltage is slightly greater than or equal to the output voltage, the circuit operates at constant buck state. 
In this state, duty of buck switches is constant. The output voltage regulation is done with boost switches.
When all switches are working, efficiency is low compare to buck or boost state. 

\subsubsection{Constant Boost State}
When the input voltage is slightly lower than or equal to the output voltage, the circuit operates at constant boost state. 
In this state, duty of boost switches is constant. The output voltage regulation is done with buck switches. 
When all switches are working, efficiency is low compare to buck or boost state.

In the Figure \ref{fig5}, duty cycle characteristic of multimode control strategy with respect to calculated duty by controller is seen. Calculated duty is between 0 and 2.

\begin{figure}[htbp]
    \centerline{\includegraphics{figures/fig5.png}}
    \caption{Duty Cycle characteristic of multimode control strategy}
    \label{fig5}
\end{figure}

\begin{figure}[htbp]
    \centerline{\includegraphics{figures/fig6.png}}
    \caption{Flow Chart}
    \label{fig6}
\end{figure}

Flow chart for the controller operation of power converter is seen in the Figure \ref{fig6}. Operation state is decided with calculated duty cycle by PI controller.

\subsection{Control Loop Description}
Following the Vref, current mode control is used with traditional PI controller as seen in the Figure \ref{fig7}. 

\begin{figure}[htbp]
    \centerline{\includegraphics{figures/fig7.png}}
    \caption{FSBB Control Strategy}
    \label{fig7}
\end{figure}

In order to determine PI variable, bode plot stability analysis technique is used. Buck and Boost stage are evaluated separately. 
Same compensators are selected to make both stage stable.

\section*{Simulation Results}

We can see the specification of power converter in Table \ref{tab1}. Input voltage parameter is determined with respect to MIL-STD-704E. 
According to MIL-STD-704E, converter is able to work continuously between 16V and 40V. Also, it is able to stand 50V around 50ms. 
Converter’s output voltage can be set any value between 16V and 40V. The output power is always 300W independent from input and output voltage. 

\begin{table}[htbp]
    \centering
    \caption{Parameter of Converter}
    \label{tab1}
    \begin{tabular}{|l|c|}
        \hline
        \textbf{Input Voltage (V)} & 16--40 \\ \hline
        \textbf{Output Voltage (V)} & 16--40 \\ \hline
        \textbf{Power (W)} & 250 \\ \hline
        \textbf{Switching Frequency (kHz)} & 300 \\ \hline
        \textbf{Inductor (\si{\micro\henry})} & 3.3 \\ \hline
        \textbf{Capacitor (\si{\micro\farad})} & 500 \\ \hline
    \end{tabular}
\end{table}

On simulation, output voltage reference is arranged to produce 28V output voltage. Input voltage is 16V to see buck boost transition in starting. 
In the Figure \ref{fig8}, converter is working at single mode configuration which means duty value of buck and boost stages is the same. 
In the Figure \ref{fig9}, Converter is working at multimode configuration. Both of them, output voltage is very similar and smooth. 
At multimode, there is transition but it does not affect output voltage as seen in the Figure \ref{fig10}, closely. 
The waveforms in Figure \ref{fig10} is the almost same with theoretical drawn in the Figure \ref{fig5}.  

\begin{figure}[htbp]
    \centerline{\includegraphics{figures/fig8.png}}
    \caption{Output voltage rise at single mode configuration}
    \label{fig8}
\end{figure}

\begin{figure}[htbp]
    \centerline{\includegraphics{figures/fig9.png}}
    \caption{Output voltage rise at multimode configuration}
    \label{fig9}
\end{figure}

\begin{figure}[htbp]
    \centerline{\includegraphics{figures/fig10.png}}
    \caption{Transition among regions}
    \label{fig10}
\end{figure}

\subsection{Line Regulation}
Line regulation is an important criteria to evaluate a converter’s performance. 
Line regulation is the ability of converter to maintain output voltage in spite of the input voltage changing. 
We can see line regulation performance of the converter in the Figure \ref{fig11} and Figure \ref{fig12} while changing input voltage between 16V to 40V and 40V to 16V. 
Line regulation is smaller than \%2 of output voltage at two strategies. Transient characteristic is different. Overshoot at multimode is smaller than single mode. 
\%10 of output voltage is acceptable. In this case, single mode configuration fails.

\begin{figure}[htbp]
    \centerline{\includegraphics{figures/fig11.png}}
    \caption{Line regulation at single mode operation}
    \label{fig11}
\end{figure}

\begin{figure}[htbp]
    \centerline{\includegraphics{figures/fig12.png}}
    \caption{Line regulation at multimode operation}
    \label{fig12}
\end{figure}

\begin{figure}[htbp]
    \centerline{\includegraphics{figures/fig13.png}}
    \caption{Load regulation at single mode operation}
    \label{fig13}
\end{figure}

\begin{figure}[htbp]
    \centerline{\includegraphics{figures/fig14.png}}
    \caption{Load regulation at multimode operation}
    \label{fig14}
\end{figure}

\subsection{Load Regulation}
Load regulation is another important criteria to evaluate a converter’s performance. 
Load regulation is the ability of converter to maintain output voltage in spite of the output load changing. 
We can see load regulation performance of the converter in the Figure \ref{fig13} and Figure \ref{fig14} while changing load power between 100W to 250W and 250W to 100W. 
In the Figure \ref{fig13} and Figure \ref{fig14}, we can see load regulation at buck, boost and buck-boost states. Load regulation is smaller than \%2 of output voltage at two strategies. 
Transient characteristic is different. Overshoot at multimode is smaller than single mode. 

\section*{Conclusion}
Performance comparison between single-mode and multimode control strategies for the FSBB converter has been done in this work, which has been evaluated based on simulations.
Both designs have shown good regulatory capability, ensuring that output voltage deviations are within 2\% under different line and load conditions.
The single-mode control strategy offers simplicity in implementation, since it maintains a unified duty cycle throughout all operating regions.

However, this advantage comes with the cost of reduced efficiency, mainly because of the continuous operation of all four switches, hence higher switching and conduction losses.
In contrast, the multimode control strategy dynamically chooses between buck, boost, constant-buck, and constant-boost states based on the input-to-output voltage ratio and subsequently reduces the number of active switches during certain periods.
This is a selective operation that reduces switching losses and enhances efficiency without sacrificing voltage regulation performance.

Moreover, the transient response is characterized by lower overshoot and smoother mode transitions under multimode control, hence enhancing stability.
In general, this comparison shows that, from the perspective of control, both strategies can be applied effectively, but the multimode approach is more suitable in applications for high efficiency and a wide range where power loss and thermal management are critical issues.

Future work could include hardware implementation and experimental validation to further analyze the real-world efficiency, transient behavior, and control stability over a wide range of operating conditions.

\bibliographystyle{IEEEtran}
\bibliography{IEEEabrv,references}

\end{document}
